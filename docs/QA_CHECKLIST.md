# QA Checklist (мобилка + прототип)

Этот чеклист — “минимальный, но честный” способ доказать качество под мобилку: SafeArea, маленькие экраны, кликабельность и корректная логика подписки/блокировок.

## Устройства/размеры для проверки

Рекомендуемая матрица (достаточно 2–3 профилей):

- Маленький экран: iPhone SE (или аналог по высоте) / маленький Android
- Большой экран: iPhone Pro Max (или любой большой iPhone) / большой Android
- (Опционально) Планшетный размер: чтобы увидеть maxWidth и центрирование

Проверить в портретной ориентации. Ландшафт — опционально для прототипа.

---

## Глобальные требования (на всех экранах)

- [ ] SafeArea: контент не залезает на статусбар/“чёлку”
- [ ] Скролл: длинные экраны (Paywall, AI результат) не обрезаются
- [ ] Кликабельность: основные элементы нажимаются комфортно (минимум ~44pt)
- [ ] Шрифты: длинные строки не ломают layout (переносы/обрезка/скролл)
- [ ] Ошибки: при сбое AI (если включён real provider) есть fallback/сообщение
- [ ] Перезапуск: состояние подписки сохраняется (если куплено — доступ остаётся)

---

## PaywallScreen

- [ ] Заголовок, преимущества и планы визуально выровнены и читаемы
- [ ] На маленьком экране можно проскроллить до CTA, CTA не “уплывает” за пределы
- [ ] Два плана: выбираются нажатием, выбранный план имеет явное выделение
- [ ] “Годовой” план визуально выглядит как “выгодный” (бейдж/рамка/акцент)
- [ ] CTA “Try free”:
  - [ ] показывает короткий loading (опционально)
  - [ ] имитирует успех
  - [ ] включает `isSubscribed=true`
  - [ ] переводит на Meditations

---

## MeditationsScreen

- [ ] Список карточек скроллится плавно, отступы ровные
- [ ] Карточка показывает: картинку, название, длительность
- [ ] Locked состояние:
  - [ ] premium карточки серые/с оверлеем и замком при `isSubscribed=false`
  - [ ] обычные карточки остаются активными
  - [ ] тап по locked карточке ведёт на Paywall
- [ ] Unlocked состояние:
  - [ ] premium карточки активны при `isSubscribed=true`

---

## AI “Настрой дня” (внутри MeditationsScreen или отдельным блоком)

- [ ] Есть 3 варианта настроения (визуально различимые)
- [ ] Нельзя сгенерировать текст без выбора настроения (подсказка/валидация)
- [ ] При генерации:
  - [ ] показывается loading состояние
  - [ ] кнопка/инпуты защищены от спама (disable на время запроса)
- [ ] Результат:
  - [ ] влезает в экран (скролл, переносы)
  - [ ] короткий (1–3 предложения)
  - [ ] соответствует настроению (спокойнее/нейтрально/поддерживающе при стрессе)

---

## Автотесты (минимум)

Рекомендуемый набор (в прототипе этого достаточно):

- Unit:
  - `features/meditations/domain/access.ts` (правило locked/unlocked)
  - `services/ai/prompts.ts` (сборка промпта и ограничения)
- Integration:
  - Paywall → Try free → Meditations
  - Тап по locked карточке при `isSubscribed=false` → переход на Paywall

Если тесты добавлены, в README стоит указать команды запуска (например, `npm test`).

